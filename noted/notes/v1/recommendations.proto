syntax = "proto3";

package noted.recommendations.v1;

option go_package = "noted/recommendations/v1";

import "google/protobuf/field_mask.proto";

message Widget {
    oneof type {
        WebsiteWidget websiteWidget = 1;
        ImageWidget imageWidget = 2;
        DefinitionWidget definitionWidget = 3;
    }
}

message WebsiteWidget {
    string title = 1;
    string url = 2;
    string description = 3;
}

message ImageWidget {
    string title = 1;
    string url = 2;
    string caption = 3;
}

message DefinitionWidget {
    string word = 1;
    string gender = 2;
    string type = 3;
    string content = 4;
}

service RecommendationsAPI {
    rpc GenerateWidgets(GenerateWidgetsRequest) returns (GenerateWidgetsResponse) {}
}

message GenerateWidgetsRequest {
    string note_id = 1;
}

message GenerateWidgetsResponse {
    repeated Widget widgets = 1;
}
